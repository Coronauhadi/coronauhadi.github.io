(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dfdfb19"],{3879:function(t,s,e){},"7d36":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row  "},[e("div",{staticClass:"col-4 p-0 ",staticStyle:{height:"100vh"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.List,expression:"List"}],staticClass:"h-100 w-100 elegant-color-dark border-none text-white p-3",staticStyle:{border:"none"},attrs:{id:"my-textarea",name:"text",placeholder:"// поехали!"},domProps:{value:t.List},on:{input:function(s){s.target.composing||(t.List=s.target.value)}}}),e("button",{staticClass:"sub",attrs:{type:"button",name:"button"},on:{click:t.exec}},[t._v("√")]),e("button",{staticClass:"sub-debug",attrs:{type:"button",name:"button-debug"},on:{click:function(s){return t.execDebug()}}},[t._v(" |> ")]),e("button",{staticClass:"sub-stop",attrs:{type:"button",name:"button-stop"},on:{click:function(s){return t.terminate()}}},[t._v(" stop ")])]),e("Iterator",{attrs:{List1:t.List,Api:t.Api,Step:t.step}}),e("div",{staticClass:"col-8 "},[e("div",{},[t._m(0),e("table",{staticClass:"mx-auto ",attrs:{id:"fields"}},t._l(t.tables,(function(s){return e("tr",{key:s.message},t._l(s,(function(t){return e("th",{key:t.message,staticClass:"unique-color text-white  border",staticStyle:{height:"4vh",width:"4vh"},attrs:{id:"x"+t.x+"y"+t.y}})})),0)})),0),e("div",{class:"pers1 "+t.pers1.animated,style:t.pers1.pos},[e("img",{staticClass:"w-100 ",attrs:{src:"/res/sprites/characters/amazonka/amazonka_idle.png",alt:""}})]),e("div",{class:"pers1 "+t.pers1.animated,style:t.bullet.pos},[e("img",{staticClass:"w-25 bul",attrs:{src:"/res/sprites/weapon/pistol/bullet.png",alt:""}})]),e("div",{class:"pers1 "+t.pers2.animated,style:t.pers2.pos},[e("img",{staticClass:"w-100 ",attrs:{src:"/res/sprites/characters/biker/bike_aim.png",alt:""}})]),t._m(1)])])],1)])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-right"},[e("small",[t._v("Уровень 1")])]),e("div",{staticClass:"col-12 pb-2 text-center"},[e("h2",[t._v("2:00")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row "},[e("div",{staticClass:"col"},[e("hr",{staticClass:"mb-1 elegant-color-dark"}),e("h3",[t._v("Инвентарь:")]),e("ul",[e("li",[t._v("Пистолет")])])])])}],o=e("731d"),n={name:"Game",components:{Iterator:o["a"]},created:function(){this.addtables()},mounted:function(){var t=this;this.setcoor(),window.onresize=function(){t.windowWidth=window.innerWidth,t.windowHeight=window.innerHeight}},methods:{exec:function(){},execDebug:function(){this.step++},terminate:function(){this.step=-1,this.pers1.cor.x=this.pers1.startcoords.x,this.pers1.cor.y=this.pers1.startcoords.x,this.pers2.cor.x=this.pers2.startcoords.x,this.pers2.cor.y=this.pers2.startcoords.x,this.setcoor(),this.pers1.direction=this.pers1.startDirection,this.pers1.pos.transform="rotate("+String(Math.round(90*this.pers1.direction))+"deg)",this.pers2.direction=this.pers2.startDirection,this.pers2.pos.transform="rotate("+String(Math.round(90*this.pers2.direction))+"deg)"},Api:function(t,s){var e=0,i=1==s?2:1;"makestep"!=t.substring(0,8)||this.addshg(s),console.log(t.substring(0,6)),"rotate"==t.substring(0,6)&&(e=t.substring(7,t.length-1),console.log(e),"r"==e||"right"==e?this.rotate("r",s):"l"!=e&&"left"!=e||this.rotate("l",s)),"aim"!=t.substring(0,3)||this.aim(s,i),"end"!=t.substring(0,3)||this.terminate(),"shot"!=t.substring(0,4)||this.shot()},addtables:function(){for(var t=0;t<this.y;t++){for(var s=[],e=0;e<this.y;e++)s.push({x:t+1,y:e+1});this.tables.push(s)}},getCoords:function(t){var s=t.getBoundingClientRect();return{top:s.top+pageYOffset,left:s.left+pageXOffset}},setcoor:function(){var t=this.getCoords(document.getElementById("x"+this.pers1.cor.x+"y"+this.pers1.cor.y)),s=this.getCoords(document.getElementById("x"+this.pers2.cor.x+"y"+this.pers2.cor.y));this.pers1.pos.top=t.top+"px",this.pers1.pos.left=t.left+"px",this.pers2.pos.top=s.top+"px",this.pers2.pos.left=s.left+"px"},addshg:function(t){if(0==this["pers"+t].direction)!(this["pers"+t].cor.y+1<this.y)||this["pers"+t].cor.y++;else if(1==this["pers"+t].direction)!(this["pers"+t].cor.x+1<this.x)||this["pers"+t].cor.x++;else if(2==this["pers"+t].direction)!(this["pers"+t].cor.y-1>0)||this["pers"+t].cor.y--;else{if(3!=this["pers"+t].direction)return;!(this["pers"+t].cor.x-1>0)||this["pers"+t].cor.x--}this.setcoor()},rotateByAngle:function(t,s){this["pers"+s].pos.transform="rotate("+String(t-90)+"deg)"},aim:function(t,s){var e=[];e.push(this["pers"+s].cor.x-this["pers"+t].cor.x),e.push(this["pers"+s].cor.y-this["pers"+t].cor.y);var i=180*Math.atan(e[0]/e[1])/Math.PI;e[1]>0?i+=90:i-=90,this.rotateByAngle(i,t)},shot:function(){var t=this.getCoords(document.getElementById("x"+this.pers1.cor.x+"y"+this.pers1.cor.y));this.bullet.pos.top=t.top+"px",this.bullet.pos.left=t.left+"px"},rotate:function(t,s){if("l"==t)this["pers"+s].direction=0==this["pers"+s].direction?3:(this["pers"+s].direction-1)%4;else{if("r"!=t)return;this["pers"+s].direction=Math.abs((this["pers"+s].direction+1)%4)}this["pers"+s].pos.transform="rotate("+String(Math.round(90*this["pers"+s].direction))+"deg)"}},data:function(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,pers1:{animated:["anim"],cor:{x:2,y:2},startcoords:{x:2,y:2},pos:{top:"1px",left:"1px",transform:"rotate(0 deg)"},direction:0,startDirection:0},pers2:{animated:["anim"],cor:{x:8,y:8},startcoords:{x:8,y:8},pos:{top:"1px",left:"1px",transform:"rotate(0 deg)"},direction:0,startDirection:0},bullet:{show:!0,anim:"anim",pos:{top:"1px",left:"1px",transform:"rotate(0 deg)"}},x:17,y:17,tables:[],List:"",step:-1}},watch:{windowHeight:function(t){this.setcoor()},windowWidth:function(t){this.setcoor()}}},a=n,c=(e("868a"),e("2877")),p=Object(c["a"])(a,i,r,!1,null,null,null);s["default"]=p.exports},"868a":function(t,s,e){"use strict";var i=e("3879"),r=e.n(i);r.a}}]);
//# sourceMappingURL=chunk-7dfdfb19.34963ac2.js.map